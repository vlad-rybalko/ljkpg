import{d as $,c as n,a as t,u as g,w as _,v as h,b as v,F as P,r as x,e as V,f as B,g as p,h as D,i as L,o as a,t as b,_ as M}from"./index-9YruqIoT.js";import{u as N}from"./usePageStore-DwQaYCL-.js";const S={class:"home-view"},U={class:"home-header"},F={class:"home-content"},H={key:0,class:"search-bar"},K={key:1,class:"empty-state"},R={key:2,class:"pages-grid"},q={class:"page-info"},A={class:"page-name"},E={class:"page-meta"},I={class:"page-actions"},Q=["onClick"],T=["onClick"],j=["onClick"],z={key:3,class:"no-results"},G={class:"modal"},J={class:"modal-actions"},O=["disabled"],W=$({__name:"HomeView",setup(X){const d=L(),l=N(),i=p(!1),u=p(""),r=p(""),c=D(()=>{const o=r.value.toLowerCase().trim();return o?l.pages.value.filter(e=>e.name.toLowerCase().includes(o)):l.pages.value});function m(){if(!u.value.trim())return;const o=l.createPage(u.value.trim());u.value="",i.value=!1,d.push(`/builder/${o.id}`)}function k(o){d.push(`/builder/${o}`)}function y(o){d.push(`/preview/${o}`)}function C(o){confirm("–£–¥–∞–ª–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É?")&&l.deletePage(o)}function w(o){return new Date(o).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}return(o,e)=>(a(),n("div",S,[t("header",U,[e[6]||(e[6]=t("h1",null,"Page Constructor",-1)),t("button",{class:"create-btn",onClick:e[0]||(e[0]=s=>i.value=!0)}," + –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É ")]),t("main",F,[g(l).pages.value.length>0?(a(),n("div",H,[_(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>r.value=s),type:"text",placeholder:"–ü–æ–∏—Å–∫ —Å—Ç—Ä–∞–Ω–∏—Ü...",class:"search-input"},null,512),[[h,r.value]])])):v("",!0),g(l).pages.value.length===0?(a(),n("div",K,[e[7]||(e[7]=t("div",{class:"empty-icon"},"üìÑ",-1)),e[8]||(e[8]=t("h2",null,"–ù–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü",-1)),e[9]||(e[9]=t("p",null,"–°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –¥–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã",-1)),t("button",{class:"create-btn",onClick:e[2]||(e[2]=s=>i.value=!0)}," + –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É ")])):c.value.length>0?(a(),n("div",R,[(a(!0),n(P,null,x(c.value,s=>(a(),n("div",{key:s.id,class:"page-card"},[t("div",q,[t("h3",A,b(s.name),1),t("p",E," –û–±–Ω–æ–≤–ª–µ–Ω–æ: "+b(w(s.updatedAt)),1)]),t("div",I,[t("button",{class:"action-btn edit",onClick:f=>k(s.id),title:"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å"}," ‚úé ",8,Q),t("button",{class:"action-btn preview",onClick:f=>y(s.id),title:"–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä"}," üëÅ ",8,T),t("button",{class:"action-btn delete",onClick:f=>C(s.id),title:"–£–¥–∞–ª–∏—Ç—å"}," üóë ",8,j)])]))),128))])):r.value&&c.value.length===0?(a(),n("div",z,[...e[10]||(e[10]=[t("p",null,"–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ",-1)])])):v("",!0)]),i.value?(a(),n("div",{key:0,class:"modal-overlay",onClick:e[5]||(e[5]=V(s=>i.value=!1,["self"]))},[t("div",G,[e[11]||(e[11]=t("h3",null,"–î–æ–±–∞–≤–∏—Ç—å —Å—Ç–∞—Ç–∏—á–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É",-1)),_(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>u.value=s),type:"text",placeholder:"–ù–∞–∑–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã",class:"input",onKeyup:B(m,["enter"]),autofocus:""},null,544),[[h,u.value]]),t("div",J,[t("button",{class:"cancel-btn",onClick:e[4]||(e[4]=s=>i.value=!1)},"–û—Ç–º–µ–Ω–∞"),t("button",{class:"confirm-btn",onClick:m,disabled:!u.value.trim()}," –°–æ–∑–¥–∞—Ç—å ",8,O)])])])):v("",!0)]))}}),ee=M(W,[["__scopeId","data-v-37cecb27"]]);export{ee as default};
